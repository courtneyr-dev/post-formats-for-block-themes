(()=>{"use strict";var l,e={268:()=>{const l=window.wp.blocks,e=window.wp.i18n,a=window.wp.blockEditor,t=window.wp.components,o=window.wp.element,s=window.ReactJSXRuntime,c=JSON.parse('{"UU":"chatlog/conversation"}');(0,l.registerBlockType)(c.UU,{edit:function({attributes:l,setAttributes:c}){const{rawTranscript:i,source:r,displayStyle:n,showAvatars:h,showTimestamps:p,timestampFormat:b,collapseThreads:g,maxVisibleMessages:u,showParticipantList:d,highlightCurrentUser:_,deviceFrame:m}=l,[v,k]=(0,o.useState)(null),[w,T]=(0,o.useState)(0),f=(0,a.useBlockProps)({className:`chatlog-editor chatlog--${n}`});return(0,o.useEffect)(()=>{i?i.includes('"type":"message"')&&i.includes('"user":')?(k("Slack"),T(95)):i.includes("[")&&i.includes("] ")&&i.includes(":")?(k("WhatsApp"),T(85)):/\d{1,2}:\d{2}\s*[AP]M/.test(i)?i.includes("—")?(k("Discord"),T(80)):(k("Teams"),T(75)):(k("Unknown"),T(50)):k(null)},[i]),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.InspectorControls,{children:[(0,s.jsxs)(t.PanelBody,{title:(0,e.__)("Display Settings","chatlog-block"),children:[(0,s.jsx)(t.SelectControl,{label:(0,e.__)("Platform","chatlog-block"),value:r,options:[{label:(0,e.__)("Auto-detect","chatlog-block"),value:"auto"},{label:"Slack",value:"slack"},{label:"Discord",value:"discord"},{label:"Microsoft Teams",value:"teams"},{label:"Telegram",value:"telegram"},{label:"WhatsApp",value:"whatsapp"},{label:"Signal",value:"signal"},{label:(0,e.__)("— Transcript Formats —","chatlog-block"),value:"",disabled:!0},{label:"WebVTT (.vtt)",value:"vtt"},{label:"SubRip (.srt)",value:"srt"},{label:"Plain Text Transcript (.txt, .md, .doc, .html, .rtf)",value:"transcript"}],onChange:l=>c({source:l}),help:(0,e.__)("Select the chat platform or transcript format. Auto-detect works for most formats.","chatlog-block")}),(0,s.jsx)(t.SelectControl,{label:(0,e.__)("Display Style","chatlog-block"),value:n,options:[{label:(0,e.__)("Bubbles","chatlog-block"),value:"bubbles"},{label:(0,e.__)("IRC","chatlog-block"),value:"irc"},{label:(0,e.__)("Transcript","chatlog-block"),value:"transcript"},{label:(0,e.__)("Timeline","chatlog-block"),value:"timeline"}],onChange:l=>c({displayStyle:l}),help:(0,e.__)("Choose how messages are displayed visually.","chatlog-block")}),(0,s.jsx)(t.ToggleControl,{label:(0,e.__)("Show Avatars","chatlog-block"),checked:h,onChange:l=>c({showAvatars:l}),help:(0,e.__)("Display participant avatars with Gravatar integration and initials fallback.","chatlog-block")}),(0,s.jsx)(t.ToggleControl,{label:(0,e.__)("Show Timestamps","chatlog-block"),checked:p,onChange:l=>c({showTimestamps:l})}),p&&(0,s.jsx)(t.SelectControl,{label:(0,e.__)("Timestamp Format","chatlog-block"),value:b,options:[{label:(0,e.__)("Time Only (10:23 AM)","chatlog-block"),value:"time-only"},{label:(0,e.__)("Absolute (Jan 15, 2025 10:23 AM)","chatlog-block"),value:"absolute"},{label:(0,e.__)("Relative (2 hours ago)","chatlog-block"),value:"relative"}],onChange:l=>c({timestampFormat:l})}),(0,s.jsx)(t.SelectControl,{label:(0,e.__)("Device Frame","chatlog-block"),value:m,options:[{label:(0,e.__)("None","chatlog-block"),value:"none"},{label:(0,e.__)("Phone","chatlog-block"),value:"phone"},{label:(0,e.__)("Desktop","chatlog-block"),value:"desktop"},{label:(0,e.__)("Slack App","chatlog-block"),value:"slack-app"},{label:(0,e.__)("Discord App","chatlog-block"),value:"discord-app"}],onChange:l=>c({deviceFrame:l}),help:(0,e.__)("Display the chat in a device mockup frame.","chatlog-block")})]}),(0,s.jsx)(t.PanelBody,{title:(0,e.__)("Threading","chatlog-block"),initialOpen:!1,children:(0,s.jsx)(t.ToggleControl,{label:(0,e.__)("Collapse Threads","chatlog-block"),checked:g,onChange:l=>c({collapseThreads:l}),help:(0,e.__)("Collapse threaded replies by default. Users can expand them.","chatlog-block")})}),(0,s.jsxs)(t.PanelBody,{title:(0,e.__)("Participants","chatlog-block"),initialOpen:!1,children:[(0,s.jsx)(t.ToggleControl,{label:(0,e.__)("Show Participant List","chatlog-block"),checked:d,onChange:l=>c({showParticipantList:l}),help:(0,e.__)("Display a list of all participants at the top of the transcript.","chatlog-block")}),(0,s.jsx)(t.TextControl,{label:(0,e.__)("Highlight User","chatlog-block"),value:_,onChange:l=>c({highlightCurrentUser:l}),help:(0,e.__)('Enter a username to highlight (useful for "you" styling). Leave empty for no highlighting.',"chatlog-block"),placeholder:(0,e.__)("e.g., Courtney Robertson","chatlog-block")})]}),(0,s.jsx)(t.PanelBody,{title:(0,e.__)("Advanced","chatlog-block"),initialOpen:!1,children:(0,s.jsx)(t.TextControl,{label:(0,e.__)("Maximum Visible Messages","chatlog-block"),type:"number",value:u,onChange:l=>c({maxVisibleMessages:parseInt(l)||0}),help:(0,e.__)("Limit displayed messages for long transcripts. 0 = show all.","chatlog-block"),min:0})})]}),(0,s.jsxs)("div",{...f,children:[v&&"auto"===r&&(0,s.jsxs)(t.Notice,{status:"info",isDismissible:!1,children:[(0,e.__)("Detected:","chatlog-block")," ",v," (",w,"% ",(0,e.__)("confidence","chatlog-block"),")"]}),(0,s.jsx)(t.TextareaControl,{label:(0,e.__)("Paste Your Chat Transcript","chatlog-block"),value:i,onChange:l=>c({rawTranscript:l}),placeholder:(0,e.__)("Paste your chat transcript here.\n\nSupported formats:\n• Chat platforms: Slack, Discord, Teams, WhatsApp, Telegram, Signal\n• Transcript formats: VTT, SRT, TXT, MD, DOC, HTML, RTF\n\nAuto-detection will identify the format automatically.","chatlog-block"),rows:15,className:"chatlog-transcript-input",help:(0,e.__)("Copy your chat messages and paste them here. Chat Log will automatically detect the platform and format.","chatlog-block")}),i&&(0,s.jsx)("div",{className:"chatlog-preview-notice",children:(0,s.jsx)(t.Notice,{status:"success",isDismissible:!1,children:(0,e.__)("Preview will appear on the frontend. The transcript will be parsed and displayed according to your settings.","chatlog-block")})})]})]})},save:()=>null})}},a={};function t(l){var o=a[l];if(void 0!==o)return o.exports;var s=a[l]={exports:{}};return e[l](s,s.exports,t),s.exports}t.m=e,l=[],t.O=(e,a,o,s)=>{if(!a){var c=1/0;for(h=0;h<l.length;h++){for(var[a,o,s]=l[h],i=!0,r=0;r<a.length;r++)(!1&s||c>=s)&&Object.keys(t.O).every(l=>t.O[l](a[r]))?a.splice(r--,1):(i=!1,s<c&&(c=s));if(i){l.splice(h--,1);var n=o();void 0!==n&&(e=n)}}return e}s=s||0;for(var h=l.length;h>0&&l[h-1][2]>s;h--)l[h]=l[h-1];l[h]=[a,o,s]},t.o=(l,e)=>Object.prototype.hasOwnProperty.call(l,e),(()=>{var l={57:0,350:0};t.O.j=e=>0===l[e];var e=(e,a)=>{var o,s,[c,i,r]=a,n=0;if(c.some(e=>0!==l[e])){for(o in i)t.o(i,o)&&(t.m[o]=i[o]);if(r)var h=r(t)}for(e&&e(a);n<c.length;n++)s=c[n],t.o(l,s)&&l[s]&&l[s][0](),l[s]=0;return t.O(h)},a=globalThis.webpackChunkconversation=globalThis.webpackChunkconversation||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))})();var o=t.O(void 0,[350],()=>t(268));o=t.O(o)})();